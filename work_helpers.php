<?php

#清除线上试卷检测的缓存

/**
 * select group_concat(JiaoCaiID)
 * from wx_edu_jiaocai
 * where Subject=2 ;
 */
$jiaocaiIds = '15634,15635,15636,15637,15665,15666,15667,15668,15669,15670,15682,15683,15684,15685,15732,15733,15734,15735,15736,15737,15738,15739,15740,15741,15742,15743,15796,15797,15798,15799,15800,15801,15802,15803,15804,15805,15844,15845,15846,15847,15848,15849,15850,15851,15852,15853,15854,15855,15856,15857,15858,15859,15860,15861,15862,15863,15864,15865,15866,15867,16002,16003,16004,16005,16006,16007,16008,16009,16010,16011,16012,16013,16014,16015,16016,16017,16018,16019,16020,16021,16022,16023,16024,16025,16026,16027,16028,16029,16030,16031,16032,16033,16035,16047,16048,16049,16050,16051,16103,16104,16105,16106,16107,16108,16109,16110,16111,16112,16113,16114,16115,16116,16117,16118,16119,16120,16121,16122,16123,16124,16125,16126,16127,16128,16129,16130,16131,16132,16133,16134,16135,16136,16137';


/**
 * select  distinct  CourseSectionID
 * from wx_edu_coursesection
 * where sLevel=3
 * and QuestionType in (101,102,103)
 * and Subject =2;
 */
$courseSectionIds = '533593, 533595, 533597, 533599, 533601, 533603, 533606, 533608, 533610, 533612, 533614, 533616, 533853, 533855, 533857, 533859, 533862, 533864, 533866, 533868, 533945, 533947,
533949, 533951, 533954, 533956, 533958, 533960, 534041, 534043, 534045, 534047, 534049, 534051, 534053, 534055, 534057, 534059, 534062, 534064, 534066, 534068, 534070, 534072, 534074, 534076, 534078, 534080, 534597,
534599, 534601, 534603, 534605, 534607, 534610, 534612, 534614, 534616, 534618, 534620, 535085, 535087, 535089, 535091, 535093, 535095, 535098, 535100, 535102, 535104, 535106, 535108, 554583, 554585,
554587, 554589, 554663, 554665, 554667, 554669, 554711, 554713, 554715, 554717, 554759, 554761, 554763, 554765, 554871, 554873, 554875, 554877, 554983, 554985, 554987, 554989, 533619, 533621, 533623,
533625, 533627, 533629, 533632, 533634, 533636, 533638, 533640, 533642, 533871, 533873, 533875, 533877, 533880, 533882, 533884, 533886, 533963, 533965, 533967, 533969, 533972, 533974, 533976, 533978,
534083, 534085, 534087, 534089, 534091, 534093, 534095, 534097, 534099, 534101, 534104, 534106, 534108, 534110, 534112, 534114, 534116, 534118, 534120, 534122, 534623, 534625, 534627, 534629, 534631,
534633, 534636, 534638, 534640, 534642, 534644, 534646, 535111, 535113, 535115, 535117, 535119, 535121, 535124, 535126, 535128, 535130, 535132, 535134, 554591, 554593, 554595, 554597, 554671, 554673,
554675, 554677, 554719, 554721, 554723, 554725, 554767, 554769, 554771, 554773, 554879, 554881, 554883, 554885, 554991, 554993, 554995, 554997, 533493, 533495, 533497, 533499, 533501, 533503, 533506,
533508, 533510, 533512, 533514, 533516, 533645, 533647, 533649, 533651, 533653, 533655, 533658, 533660, 533662, 533664, 533666, 533668, 533749, 533751, 533753, 533755, 533757, 533759, 533762, 533764, 533766, 533768,
533770, 533772, 533889, 533891, 533893, 533895, 533898, 533900, 533902, 533904, 533981, 533983, 533985, 533987, 533990, 533992, 533994, 533996, 534125, 534127, 534129, 534131, 534133, 534135, 534137,
534139, 534141, 534143, 534146, 534148, 534150, 534152, 534154, 534156, 534158, 534160, 534162, 534164, 534293, 534295, 534297, 534299, 534301, 534303, 534305, 534307, 534309, 534311, 534314, 534316,
534318, 534320, 534322, 534324, 534326, 534328, 534330, 534332, 534461, 534463, 534465, 534467, 534469, 534471, 534473, 534475, 534478, 534480, 534482, 534484, 534486, 534488, 534490, 534492, 534649,
534651, 534653, 534655, 534657, 534659, 534661, 534663, 534666, 534668, 534670, 534672, 534674, 534676, 534678, 534680, 534781, 534783, 534785, 534787, 534789, 534791, 534793, 534795, 534797, 534799,
534801, 534803, 534806, 534808, 534810, 534812, 534814, 534816, 534818, 534820, 534822, 534824, 534826, 534828, 534981, 534983, 534985, 534987, 534989, 534991, 534994, 534996, 534998, 535000, 535002,
535004, 535137, 535139, 535141, 535143, 535145, 535147, 535150, 535152, 535154, 535156, 535158, 535160, 535237, 535239, 535241, 535243, 535245, 535247, 535250, 535252, 535254, 535256, 535258, 535260,
535341, 535343, 535345, 535347, 535349, 535351, 535354, 535356, 535358, 535360, 535362, 535364, 535443, 535445, 535447, 535449, 535451, 535453, 535455, 535457, 535459, 535462, 535464, 535466, 535468,
535470, 535472, 535474, 535476, 535478, 535603, 535605, 535607, 535609, 535611, 535613, 535615, 535617, 535619, 535622, 535624, 535626, 535628, 535630, 535632, 535634, 535636, 535638, 535739, 535741, 535743,
535745, 535747, 535749, 535751, 535753, 535756, 535758, 535760, 535762, 535764, 535766, 535768, 535770, 535875, 535877, 535879, 535881, 535884, 535886, 535888, 535890, 535947, 535949, 535951, 535953,
535955, 535957, 535959, 535961, 535964, 535966, 535968, 535970, 535972, 535974, 535976, 535978, 536067, 536069, 536071, 536073, 536075, 536077, 536079, 536081, 536084, 536086, 536088, 536090, 536092,
536094, 536096, 536098, 554551, 554553, 554555, 554557, 554599, 554601, 554603, 554605, 554631, 554633, 554635, 554637, 554679, 554681, 554683, 554685, 554727, 554729, 554731, 554733, 554775, 554777, 554779, 554781,
554807, 554809, 554811, 554813, 554839, 554841, 554843, 554845, 554887, 554889, 554891, 554893, 554919, 554921, 554923, 554925, 554951, 554953, 554955, 554957, 554999, 555001, 555003, 555005, 555031,
555033, 555035, 555037, 555063, 555065, 555067, 555069, 555095, 555097, 555099, 555101, 555127, 555129, 555131, 555133, 555159, 555161, 555163, 555165, 555191, 555193, 555195, 555197, 555223, 555225,
555227, 555229, 555255, 555257, 555259, 555261, 533519, 533521, 533523, 533525, 533527, 533529, 533532, 533534, 533536, 533538, 533540, 533542, 533671, 533673, 533675, 533677, 533679, 533681, 533684, 533686,
533688, 533690, 533692, 533694, 533775, 533777, 533779, 533781, 533783, 533785, 533788, 533790, 533792, 533794, 533796, 533798, 533907, 533909, 533911, 533913, 533916, 533918, 533920, 533922, 533999,
534001, 534003, 534005, 534008, 534010, 534012, 534014, 534167, 534169, 534171, 534173, 534175, 534177, 534179, 534181, 534183, 534185, 534188, 534190, 534192, 534194, 534196, 534198, 534200, 534202,
534204, 534206, 534335, 534337, 534339, 534341, 534343, 534345, 534347, 534349, 534351, 534353, 534356, 534358, 534360, 534362, 534364, 534366, 534368, 534370, 534372, 534374, 534495, 534497, 534499,
534501, 534503, 534505, 534507, 534509, 534512, 534514, 534516, 534518, 534520, 534522, 534524, 534526, 534683, 534685, 534687, 534689, 534691, 534693, 534695, 534697, 534700, 534702, 534704, 534706, 534708,
534710, 534712, 534714, 534831, 534833, 534835, 534837, 534839, 534841, 534843, 534845, 534847, 534849, 534851, 534853, 534856, 534858, 534860, 534862, 534864, 534866, 534868, 534870, 534872, 534874,
534876, 534878, 535007, 535009, 535011, 535013, 535015, 535017, 535020, 535022, 535024, 535026, 535028, 535030, 535163, 535165, 535167, 535169, 535171, 535174, 535176, 535178, 535180, 535182, 535263,
535265, 535267, 535269, 535271, 535273, 535276, 535278, 535280, 535282, 535284, 535286, 535367, 535369, 535371, 535373, 535375, 535377, 535380, 535382, 535384, 535386, 535388, 535390, 535481, 535483, 535485, 535487, 535489,
535491, 535493, 535495, 535497, 535500, 535502, 535504, 535506, 535508, 535510, 535512, 535514, 535516, 535641, 535643, 535645, 535647, 535649, 535651, 535653, 535655, 535657, 535660, 535662, 535664, 535666,
535668, 535670, 535672, 535674, 535676, 535773, 535775, 535777, 535779, 535781, 535783, 535785, 535787, 535790, 535792, 535794, 535796, 535798, 535800, 535802, 535804, 535893, 535895, 535897, 535899, 535902,
535904, 535906, 535908, 535981, 535983, 535985, 535987, 535989, 535991, 535993, 535995, 535998, 536000, 536002, 536004, 536006, 536008, 536010, 536012, 536101, 536103, 536105, 536107, 536109, 536111, 536113, 536115,
536118, 536120, 536122, 536124, 536126, 536128, 536130, 536132, 554559, 554561, 554563, 554565, 554607, 554609, 554611, 554613, 554639, 554641, 554643, 554645, 554687, 554689, 554691, 554693, 554735, 554737,
554739, 554741, 554783, 554785, 554787, 554789, 554815, 554817, 554819, 554821, 554847, 554849, 554851, 554853, 554895, 554897, 554899, 554901, 554927, 554929, 554931, 554933, 554959, 554961, 554963, 554965, 555007,
555009, 555011, 555013, 555039, 555041, 555043, 555045, 555071, 555073, 555075, 555077, 555103, 555105, 555107, 555109, 555135, 555137, 555139, 555141, 555167, 555169, 555171, 555173, 555199, 555201, 555203,
555205, 555231, 555233, 555235, 555237, 555263, 555265, 555267, 555269, 533545, 533547, 533549, 533551, 533553, 533555, 533558, 533560, 533562, 533564, 533566, 533568, 533697, 533699, 533701, 533703,
533705, 533707, 533710, 533712, 533714, 533716, 533718, 533720, 533801, 533803, 533805, 533807, 533809, 533811, 533814, 533816, 533818, 533820, 533822, 533824, 533925, 533927, 533930, 533932, 534017, 534019,
534021, 534023, 534026, 534028, 534030, 534032, 534209, 534211, 534213, 534215, 534217, 534219, 534221, 534223, 534225, 534227, 534230, 534232, 534234, 534236, 534238, 534240, 534242, 534244, 534246,
534248, 534377, 534379, 534381, 534383, 534385, 534387, 534389, 534391, 534393, 534395, 534398, 534400, 534402, 534404, 534406, 534408, 534410, 534412, 534414, 534416, 534529, 534531, 534533, 534535, 534537,
534539, 534541, 534543, 534546, 534548, 534550, 534552, 534554, 534556, 534558, 534560, 534717, 534719, 534721, 534723, 534725, 534727, 534729, 534731, 534734, 534736, 534738, 534740, 534742,
534744, 534746, 534748, 534881, 534883, 534885, 534887, 534889, 534891, 534893, 534895, 534897, 534899, 534901, 534903, 534906, 534908, 534910, 534912, 534914, 534916, 534918, 534920, 534922, 534924, 534926, 534928,
535033, 535035, 535037, 535039, 535041, 535043, 535046, 535048, 535050, 535052, 535054, 535056, 535185, 535187, 535189, 535191, 535193, 535195, 535198, 535200, 535202, 535204, 535206, 535208, 535289, 535291, 535293,
535295, 535297, 535299, 535302, 535304, 535306, 535308, 535310, 535312, 535393, 535395, 535397, 535399, 535401, 535403, 535406, 535408, 535410, 535412, 535414, 535416, 535519, 535521, 535523, 535525, 535527, 535529,
535531, 535533, 535535, 535537, 535540, 535542, 535544, 535546, 535548, 535550, 535552, 535554, 535556, 535558, 535679, 535681, 535683, 535685, 535687, 535689, 535691, 535694, 535696, 535698, 535700, 535702, 535704,
535706, 535807, 535809, 535811, 535813, 535815, 535817, 535819, 535821, 535824, 535826, 535828, 535830, 535832, 535834, 535836, 535838, 535911, 535913, 535915, 535917, 535920, 535922, 535924, 535926, 536015,
536017, 536019, 536021, 536023, 536025, 536028, 536030, 536032, 536034, 536036, 536038, 536135, 536137, 536139, 536141, 536143, 536145, 536147, 536149, 536152, 536154, 536156, 536158, 536160, 536162, 536164,
536166, 536740, 536741, 536744, 536745, 554567, 554569, 554571, 554573, 554615, 554617, 554619, 554621, 554647, 554649, 554651, 554653, 554695, 554697, 554699, 554701, 554743, 554745, 554747, 554749,
554791, 554793, 554795, 554797, 554823, 554825, 554827, 554829, 554855, 554857, 554859, 554861, 554903, 554905, 554907, 554909, 554935, 554937, 554939, 554941, 554967, 554969, 554971, 554973, 555015,
555017, 555019, 555021, 555047, 555049, 555051, 555053, 555079, 555081, 555083, 555085, 555111, 555113, 555115, 555117, 555143, 555145, 555147, 555149, 555175, 555177, 555179, 555181, 555207, 555209, 555211, 555213, 555239,
555241, 555243, 555245, 555271, 555273, 555275, 555277, 533571, 533573, 533575, 533577, 533579, 533581, 533584, 533586, 533588, 533590, 533723, 533725, 533727, 533729, 533731, 533733,
533736, 533738, 533740, 533742, 533744, 533746, 533827, 533829, 533831, 533833, 533835, 533837, 533840, 533842, 533844, 533846, 533848, 533850, 533935, 533937, 533940, 533942, 534035, 534038, 534251, 534253, 534255,
534257, 534259, 534261, 534263, 534265, 534267, 534269, 534272, 534274, 534276, 534278, 534280, 534282, 534284, 534286, 534288, 534290, 534419, 534421, 534423, 534425, 534427, 534429, 534431, 534433, 534435,
534437, 534440, 534442, 534444, 534446, 534448, 534450, 534452, 534454, 534456, 534458, 534563, 534565, 534567, 534569, 534571, 534573, 534575, 534577, 534580, 534582, 534584, 534586, 534588, 534590,
534592, 534594, 534751, 534753, 534755, 534757, 534759, 534761, 534763, 534765, 534768, 534770, 534772, 534774, 534776, 534778, 534931, 534933, 534935, 534937, 534939, 534941, 534943, 534945, 534947, 534949, 534951,
534953, 534956, 534958, 534960, 534962, 534964, 534966, 534968, 534970, 534972, 534974, 534976, 534978, 535059, 535061, 535063, 535065, 535067, 535069, 535072, 535074, 535076, 535078, 535080,
535082, 535211, 535213, 535215, 535217, 535219, 535221, 535224, 535226, 535228, 535230, 535232, 535234, 535315, 535317, 535319, 535321, 535323, 535325, 535328, 535330, 535332, 535334, 535336, 535338,
535419, 535421, 535423, 535425, 535427, 535429, 535432, 535434, 535436, 535438, 535440, 535561, 535563, 535565, 535567, 535569, 535571, 535573, 535575, 535577, 535579, 535582, 535584, 535586, 535588,
535590, 535592, 535594, 535596, 535598, 535600, 535709, 535711, 535713, 535715, 535717, 535719, 535721, 535724, 535726, 535728, 535730, 535732, 535734, 535736, 535841, 535843, 535845, 535847, 535849, 535851, 535853, 535855,
535858, 535860, 535862, 535864, 535866, 535868, 535870, 535872, 535929, 535931, 535933, 535935, 535938, 535940, 535942, 535944, 536041, 536043, 536045, 536047, 536049, 536051, 536054, 536056, 536058, 536060, 536062, 536064, 536169,
536171, 536173, 536175, 536177, 536179, 536181, 536183, 536186, 536188, 536190, 536192, 536194, 536196, 536198, 536200, 536695, 536697, 536700, 536701, 536704, 536705, 536708, 536709, 554575, 554577,
554579, 554581, 554623, 554625, 554627, 554629, 554655, 554657, 554659, 554661, 554703, 554705, 554707, 554709, 554751, 554753, 554755, 554757, 554799, 554801, 554803, 554805, 554831, 554833,
554835, 554837, 554863, 554865, 554867, 554869, 554911, 554913, 554915, 554917, 554943, 554945, 554947, 554949, 554975, 554977, 554979, 554981, 555023, 555025, 555027, 555029, 555055, 555057, 555059, 555061, 555087, 555089, 555091,
555093, 555119, 555121, 555123, 555125, 555151, 555153, 555155, 555157, 555183, 555185, 555187, 555189, 555215, 555217, 555219, 555221, 555247, 555249, 555251, 555253, 555279, 555281, 555283, 555285 ';


$courseSectionIds= '535193, 533553, 533579, 535245, 535271, 535297, 535323, 535349, 535375, 535401, 535427, 535687, 535717, 535747, 535955, 536023, 536049,
536075, 536109, 536143, 536177, 534989, 535015, 535041, 535067';

$jiaocaiIds= '';

$getRedisUrl1 = 'http://stuapi.knowbox.cn/phrase/guess/delete-redis-cache?cacheKey=common:strongTrainingFreeSelectQuestionIdsByCourseSectionId:';
$getRedisUrl2 = 'http://stuapi.knowbox.cn/phrase/guess/delete-redis-cache?cacheKey=common:EnglishCheckSectionList:';

$courseSectionIds = explode(',', $courseSectionIds);

foreach ($courseSectionIds as $courseSectionId) {
    $cacheKey = $getRedisUrl1 . trim($courseSectionId );
    $result   = file_get_contents($cacheKey);
    file_put_contents('./clear-course-section-result.txt', $result.PHP_EOL, FILE_APPEND);
}

$jiaoCai = explode(',', $jiaocaiIds);
foreach ($jiaoCai as $jiaocaiId) {
    $cacheKey1 = $getRedisUrl2 . trim($jiaocaiId) . '_1';
    $cacheKey2 = $getRedisUrl2 . trim($jiaocaiId) . '_2';
    $result1   = file_get_contents($cacheKey1);
    $result2   = file_get_contents($cacheKey2);
    file_put_contents('./clear-jiaocai-result.txt', $result1.PHP_EOL, FILE_APPEND);
    file_put_contents('./clear-jiaocai-result.txt', $result2.PHP_EOL, FILE_APPEND);
}


